<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/layout/index :: dynamic(~{::main})}">
    <body>
        <main>
            <style>
                .security-card { border: none; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); overflow: hidden; }
                .security-header { background: #f8f9fa; padding: 20px; border-bottom: 1px solid #eee; text-align: center; }
                .form-control-icon { padding-left: 40px; border-radius: 8px; }
                .input-icon { position: absolute; left: 12px; top: 38px; color: #aaa; }
                .btn-update { background: #0d6efd; border: none; padding: 12px; border-radius: 8px; font-weight: bold; transition: all 0.2s; }
                .btn-update:hover { background: #0b5ed7; transform: translateY(-2px); }
            </style>
            
            <div class="container py-5 animate__animated animate__fadeIn">
                <div class="row justify-content-center">
                    <div class="col-md-5">
                        <div class="card security-card">
                            <div class="security-header">
                                <div class="mb-2">
                                    <span class="bg-white p-3 rounded-circle shadow-sm d-inline-block">
                                        <i class="bi bi-shield-lock-fill text-primary fs-2"></i>
                                    </span>
                                </div>
                                <h5 class="fw-bold mb-0 text-uppercase">Đổi Mật Khẩu</h5>
                                <small class="text-muted">Bảo vệ tài khoản của bạn</small>
                            </div>
                            
                            <div class="card-body p-4">
                                <div th:if="${message != null}" class="alert text-center small rounded-3"
                                     th:classappend="${message.contains('thành công') ? 'alert-success' : 'alert-danger'}">
                                    <i class="bi bi-info-circle-fill me-1"></i> [[${message}]]
                                </div>
                                
                                <form action="/account/change-password" method="post">
                                    <div class="mb-3 position-relative">
                                        <label class="form-label small fw-bold text-secondary">Mật khẩu hiện tại</label>
                                        <i class="bi bi-key input-icon"></i>
                                        <input type="password" name="currentPassword" class="form-control form-control-icon" required placeholder="••••••">
                                    </div>
                                    
                                    <div class="mb-3 position-relative">
                                        <label class="form-label small fw-bold text-secondary">Mật khẩu mới</label>
                                        <i class="bi bi-lock input-icon"></i>
                                        <input type="password" name="newPassword" class="form-control form-control-icon" required placeholder="••••••">
                                    </div>
                                    
                                    <div class="mb-4 position-relative">
                                        <label class="form-label small fw-bold text-secondary">Xác nhận mật khẩu mới</label>
                                        <i class="bi bi-lock-fill input-icon"></i>
                                        <input type="password" name="confirmPassword" class="form-control form-control-icon" required placeholder="••••••">
                                    </div>
                                    
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-primary btn-update text-white">
                                            <i class="bi bi-check-lg me-1"></i> CẬP NHẬT MẬT KHẨU
                                        </button>
                                        <a href="/home/index" class="btn btn-light text-secondary fw-bold">Hủy bỏ</a>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>